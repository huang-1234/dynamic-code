```tsx
import React from "react";
import { DynamicModuleLoader } from "dynamic-module-loader";
import { useEffect, useState } from "react";

async function loadcode() {
  // 示例 1: 使用 React 组件
  const reactCode = `
  const React = require('react');

  const MyComponent = () => {
    return React.createElement('div', null, 'Hello from React');
  };

  module.exports = MyComponent;
`;

  const loader = new DynamicModuleLoader({
    require: (id) => {
      if (id === "react") return React;
      throw new Error(`无法解析模块: ${id}`);
    },
  });

  const Component = await loader.load(reactCode, "cjs");
  // 使用 <Component /> 渲染

  // 示例 2: 使用纯函数
  const functionCode = `
  function add(a, b) {
    return a + b;
  }

  export default add;
`;

  const addFunction = await loader.load(functionCode, "esm");
  console.log(addFunction(2, 3)); // 输出: 5

  // 示例 3: 使用 AMD 模块
  const amdCode = `
  define(['utils'], function(utils) {
    return {
      greet: function(name) {
        return 'Hello, ' + utils.capitalize(name);
      }
    };
  });
`;

  const amdLoader = new DynamicModuleLoader({
    require: (id) => {
      if (id === "utils")
        return { capitalize: (s: string) => s[0].toUpperCase() + s.slice(1) };
      throw new Error(`无法解析模块: ${id}`);
    },
  });

  const greeter = await amdLoader.load(amdCode);
  console.log(greeter.greet("world")); // 输出: Hello, World
}

export default function () {
  return (
    <div>
      <h1>动态模块加载器示例</h1>
      <p>请查看控制台输出以获取加载的模块信息。</p>
      <DynamicModuleLoader
        code={`
          const React = require('react');
          const MyComponent = () => {
            return React.createElement('div', null, 'Hello from React');
          };
          module.exports = MyComponent;
        `}
        format="cjs"
        onLoad={(Component) => {
          console.log("加载的组件:", Component);
        }}
      />
      <DynamicModuleLoader
        code={`
          function add(a, b) {
            return a + b;
          }
          export default add;
        `}
        format="esm"
        onLoad={(addFunction) => {
          console.log("加载的函数:", addFunction(2, 3)); // 输出: 5
        }}
      />
      <DynamicModuleLoader
        code={`
          define(['utils'], function(utils) {
            return {
              greet: function(name) {
                return 'Hello, ' + utils.capitalize(name);
              }
            };
          });
        `}
        format="amd"
        onLoad={(greeter) => {
          console.log("加载的问候函数:", greeter.greet("world")); // 输出: Hello, World
        }}
      />
    </div>
  );
}
```
